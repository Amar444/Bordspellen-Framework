<!DOCTYPE html>
<html>
<head>
    <head>
        <meta charset="utf-8"/>
        <link rel="stylesheet" href="fonts/stylesheet.css"/>
        <link rel="stylesheet" href="css/style.css"/>
    </head>
</head>
<body>
<div class="global">
    <div class="background fadeIn">
        <div class="scroll-background">

        </div>
    </div>
    <div class="content fadeIn">
        <div class="top-bar">
            <div class="title-bar">
                <div id="title-text">
                    Welcome in the gameview of GAC!
                </div>
            </div>
            <div class="title-bar-volume">
                <div class="volume">
                    <img id="mute-button" data-action="mute-unmute" src="img/sound.png">
                </div>
            </div>
        </div>
        <div class="game-logo">
            <div class="game-logo-holder">
                <img src="img/game.svg"><br>
                <br>
                <br>
                <div class="field-holder">
                    <label class="label index-label">NAME</label>
                    <input type="text" class="input terminal-blink" id="name" placeholder="Please fill in your name"/>
                    <a class="button" data-action="unload-page" data-destination="gameroom.html">Start Game</a>
                    <a class="button" data-action="show-info" data-destination="gameroom.html">About</a>
                </div>
            </div>
        </div>
    </div>

</div>
</body>
<script>window.home = true;</script>
<script src="js/main.js"></script>
<script>
    document.querySelector('[data-action="unload-page"]').addEventListener('click', function() {
      var name = document.querySelector('#name').value.trim();

      if(name != "") {
        var dest = this.getAttribute('data-destination');

        document.cookie = "localName=" + name;

        app.main.unloadPage(dest, this);
      } else {
        document.querySelector('#name').classList.add('wrongInput');
        setTimeout(function() {
          document.querySelector('#name').classList.remove('wrongInput')
        }, 500);
      }

    }, false);
    document.querySelector('.terminal-blink').addEventListener('focus', function() {
      this.classList.remove('terminal-blink');
    }, false);


    document.querySelector('[data-action="show-info"]').addEventListener('click', function() {
        app.main.unloadPage("info.html", this);

    }, false);

    document.querySelector('[data-action="mute-unmute"]').addEventListener('click', function() {
           var status = toggleAudio();
           setMuteImage(status);
    }, false);


    setMuteImage(statusAudio());

    function setMuteImage(status) {

        if(status) {
            document.getElementById("mute-button").src="img/sound.png";
        } else {
            document.getElementById("mute-button").src="img/mute.png";
        }

    }








</script>
</html>
