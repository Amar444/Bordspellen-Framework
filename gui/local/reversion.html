<!DOCTYPE html>
<html>
  <head>
    <title>Reversion & TicTacToe - The Game - Reversion</title>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="fonts/stylesheet.css"/>
    <link rel="stylesheet" href="css/style.css"/>
  </head>
  <body>
    <div class="global">
      <div class="background fadeIn">
        <div class="scroll-background">

        </div>
      </div>
      <div class="content fadeIn">
       <div class="top-bar">
          <div class="title-bar">
            <div id="lobbyMessage">
                Reversion
            </div>
          </div>
          <div class="title-bar-button" data-destination="gameroom.html">
            <
          </div>
          <div class="title-bar-volume">
            <div class="volume">
              <img id="mute-button" data-action="mute-unmute" src="img/sound.png">
            </div>
          </div>
        </div>
        <div id="game-main-content">
          <div class="field">
            <div class="reversion" id="reversion">
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="challenge-overlay hidden">
      <div class="challenge">
        <br><br>
        <div class="big font center" id="result">
          You won!
        </div>
        <div class="result-area">
          <p id="result-message"></p>
          <br><br>
          <span id = "player1">You</span> :
          <span id = "player1-points">34</span> points
          <br>
          <span id = "player2">Opponent</span> :
          <span id = "player2-points">-34.235.523</span> points
        </div>
        <div class="challenge-buttons">
            <a class="button back-button">Go back, I like</a>
        </div>
      </div>
    </div>
    <div class="match-overlay">
    </div>
    <div class="message">
        <div class="message-timer">
            10
        </div>
        <div class="message-text">
            It's your turn
        </div>
    </div>
  </body>
  <script>
    window.gameWidth = 8;
  </script>
  <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
  <script src="js/main.js"></script>
  <script src="js/game.js"></script>
  <script>
  $(function () {

    /* FUNCTIONS */

    // Change mute image based on the status
    var setMuteImage = function(status) {
        if(status) {
            $("#mute-button").attr("src", "img/sound.png");
        } else {
            $("#mute-button").attr("src", "img/mute.png");
        }
    }



    /* INITIALISATION */

    // Init the mute image
    setMuteImage(app._utilities.statusAudio());


    /* EVENTS */

    // On click go back to index
    $(".title-bar-button").click(function() {
      var dest = $(this).attr("data-destination");
      app.main.unloadPage(dest, this);
    });


    //onderstaande functie plaats een </div>  direct na data-placed=

    $(window).load(function() {
      var wrapper = $("<div class='reversion'></div>");

      for (i = 1; i <= 64; i++) {
          wrapper.append('<div class= "reversion-position " data-position=' + i +  ' data-placed= >'
                  + '<img src= "img/reversion-white.svg"  class= "circle" >'
                  + '<img src= "img/reversion-black.svg"  class= "cross" >');
      }
      $("#reversion").append(wrapper);
    });



    // Toggle mute - unmute
    $('[data-action="mute-unmute"]').click(function() {
      var status = app._utilities.toggleAudio();

      setMuteImage(status);
    });


  });
  </script>
</html>
